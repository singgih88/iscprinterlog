<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.prime.com.tr/ui">
    <h:head>
        <title></title>
    </h:head>
    <h:body>
        <div style="width: 350px; float: left;">
            <h:form>
                <h:outputStylesheet library="css" name="main.css" />
                <p:dataTable var="usr" value="#{usersBean.users}" rows="12" paginator="true"
                             onselectComplete="panelInfo.show(); panelOptions.show();"
                             selection="#{usersBean.selectedUser}" paginatorPosition="bottom"
                             selectionMode="single" update="p1 p2" pageLinks="5" widgetVar="usersTable" style="text-align: center; " >
                    <p:column styleClass="columnMainTable">
                        <f:facet name="header">
                            <h:outputText value="Login"/>
                        </f:facet>
                        <h:outputText value="#{usr.login}" />
                    </p:column>
                    <p:column styleClass="columnMainTable">
                        <f:facet name="header">
                            <h:outputText value="Total Print"/>
                        </f:facet>
                        <h:outputText value="#{usr.totalPrint}" />
                    </p:column>
                </p:dataTable>
            </h:form>
        </div>
        <div style=" float: left; position: relative; left: 13px; width: 400px">
            <p:panel id="p1" style="text-transform: capitalize;" visible="hidden" widgetVar="panelInfo">
                <f:facet name="header">
                    <h:outputText value="#{usersBean.selectedUser.name}" /><br />
                    <h:outputText value="#{usersBean.selectedUser.category}" style="font-size: small;"/>
                </f:facet>
                <h:outputText value="Total Print: " />
                <h:outputText value="#{usersBean.selectedUser.totalPrint} sheets" />
            </p:panel>
            <br />
            <p:panel id="p2" header="Detailment Options" visible="hidden" widgetVar="panelOptions">
                <p:accordionPanel autoHeight="false" activeIndex="2" >
                    <p:tab title="Time">
                        <h:form id="ddPanel">
                            <h:panelGrid columns="2" style="font-size: small; font-weight: bold; text-align: left; float: left; text-transform: capitalize;" >
                                <h:outputLabel value="School Year " />
                                <h:selectOneMenu value="#{usersBean.schoolYearSelected}" >
                                    <f:selectItems value="#{usersBean.schoolYears}" var="sy" itemValue="#{sy}" />
                                </h:selectOneMenu>
                                <h:outputLabel value="Month " style="text-align: left"/>
                                <h:selectOneMenu value="#{usersBean.monthValueSelected}" >
                                    <f:selectItems value="#{usersBean.months}" var="m" itemLabel="#{m.monthLabel}" itemValue="#{m.monthValue}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                            <p:commandButton actionListener="#{usersBean.dateDetailedData}" value="Submit"
                                             style="font-size: small; font-weight: bold;
                                             float: right; height: 28px; width: 80px;
                                             position: relative; top: 13px; left: 18px " onclick="dialogTimeResult.show();" update="panelTimeResult"/>
                        </h:form>
                    </p:tab>
                    <p:tab title="Printer">
                        <h:form id="dpPanel">
                            <h:panelGrid style="font-size: small; font-weight: bold; text-align: left; float: left; text-transform: capitalize;" >
                                <h:outputText value="Printer" />
                                <h:selectOneMenu value="#{usersBean.printerIdSelected}" >
                                    <f:selectItems value="#{usersBean.printers}" var="prt" itemLabel="#{prt.printerPlace}" itemValue="#{prt.printerID}" />
                                </h:selectOneMenu>
                            </h:panelGrid>
                            <p:commandButton actionListener="#{usersBean.printerDetailedData}" value="Submit"
                                             style="font-size: small; font-weight: bold;
                                             float: right; height: 28px; width: 80px;
                                             position: relative; top: 13px; left: 18px " onclick="dialogPrinterResult.show();" update="panelPrinterResult"/>
                        </h:form>
                    </p:tab>
                </p:accordionPanel>
                <p:dialog header="Result" modal="true" showEffect="" hideEffect="" widgetVar="dialogTimeResult" width="370">
                    <h:panelGrid id="panelTimeResult" >
                        <h:outputText value="#{usersBean.sheetsTimeInterval} sheets"/>
                        <h:outputLabel value="Printed by #{usersBean.selectedUser.name}
                                       in #{usersBean.monthSelected.monthLabel}
                                       #{usersBean.schoolYearSelected}" style="font-size: small;"/>
                    </h:panelGrid>
                </p:dialog>
                <p:dialog header="Result" modal="true" showEffect="" hideEffect="" widgetVar="dialogPrinterResult" width="460">
                    <h:panelGrid id="panelPrinterResult" >
                        <h:outputText value="#{usersBean.sheetsPrinter} sheets"/>
                        <h:outputLabel value="Printed by #{usersBean.selectedUser.name}
                                       using the #{usersBean.printerSelected.printerPlace} printer" style="font-size: small;"/>
                    </h:panelGrid>
                </p:dialog>
            </p:panel>
        </div>
    </h:body>
</html>

